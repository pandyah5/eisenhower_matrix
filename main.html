<!DOCTYPE html>
<html>
<head>
<script>
// The variable to store the urgency and importance points
let data = new Map();

// Function to add the task item supplied by the user
function add_item () {
	let taskname = document.getElementById("taskname").value;
	document.getElementById("To_do_list").innerHTML += ('<li id="'+ taskname +'">' + taskname);
	document.getElementById("To_do_list").innerHTML += ('<button id="btn_'+taskname+'" type="button" onclick="delete_item(\'' + taskname + '\')">X</button> </li>');
	
	// Add the task to the data hashmap
	let urgency = document.getElementById("urgency").value;
	let importance = document.getElementById("importance").value;
	data.set(taskname, [urgency, importance]);
	
	// For debug let us print all elements of data
	for (const [key, value] of data) {
		console.log(key + " is mapped to: " + value[0] + ", " + value[1]);
	}
	return;
}

// Function to delete the task item when the "X" button is clicked
function delete_item(taskname) {
	// Debug statement for the browser
	console.log("Trying to delete: " + taskname);
	
	// Delete the text entry
	let elem = document.getElementById(taskname);
	elem.parentNode.removeChild(elem);

	// Delete the "X" button associated with it
	document.getElementById("btn_"+taskname).remove();
	
	// Delete the entry from the data hashmap
	data.delete(taskname);
	return;
}

</script>
</head>


<body>
<h1> This is an Eisenhower inspired to-do list! </h1>

<!-- Get the taskname -->
<label for="taskname">Item:</label>
<input type="text" value = "e.g. Water the plants" id="taskname" name="taskname" minlength="1" maxlength="20" required>

<!-- Get the urgency -->
<label for="urgency">Urgency:</label>
<input type="number" id="urgency" name="urgency" minlength="1" maxlength="20" required>

<!-- Get the importance -->
<label for="importance">Importance:</label>
<input type="number" id="importance" name="importance" minlength="1" maxlength="20" required>

<button type="button" onclick="add_item()">Add item!</button>

<p> Your to-do list: </p> 
<ul id="To_do_list">
</ul>

<div id="einsenhower"></div> 

<p id="credits"> Created by your beloved HP </p>
</body>
</html>